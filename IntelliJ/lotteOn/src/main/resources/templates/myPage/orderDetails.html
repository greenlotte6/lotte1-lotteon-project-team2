<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="/css/myPage/layout.css">
    <link rel="stylesheet" href="/css/myPage/myPageMain.css">
    <link rel="stylesheet" href="/css/common/table-main.css">
    <link rel="stylesheet" href="/css/common/table-sub.css">
    <link rel="stylesheet" href="/css/myPage/modal.css">
    <link rel="stylesheet" href="/css/myPage/searchPeriod.css">
    <link rel="stylesheet" href="/css/index_layout.css">
    <link rel="stylesheet" href="/css/common/header.css">
    <link rel="stylesheet" href="/css/myPage/pagination.css">
    <script src="/js/myPage/searchPeriod.js"></script>
    <script src="/js/myPage/modal.js"></script>
    <script src="/js/headerMenu.js"></script>

</head>
<body>
    <div id="wrapper">
        <!-- 헤더 시작 -->
        <th:block th:include="/common/header.html"/>
        <!-- 헤더 끝 -->
        <!-- 메인 시작 -->
        <main>
            <!--<th:block th:insert="/myPage/inc/myShoppingInfo.html"></th:block>-->
            <section class="content">
                <!-- 왼쪽 사이드바 -->
                <th:block th:include="/myPage/inc/sidebar.html"/>
                <!-- 사이드바 끝-->
                <!-- 오른쪽 글 -->
                <article class="main_content_side">
                    <div class="ad">
                        <img th:src="@{/upload/{image}(image=${banner.sName})}"
                             th:style="'width:' + ${banner.width} + 'px;'
                                            +'height:' + ${banner.height} + 'px;'"
                             onerror="this.src='/images/가정의달.PNG';"
                             th:attr="onclick=|location.href='${banner.link}'|"
                             alt="lotteOn">
                    </div>
                    <div class="order-details">
                        <div class="title-area">
                            <h1>전체주문내역</h1>
                        </div>
                        <div class="searchSpace">
                            <p>기간조회</p>
                            <label>
                                <input type="radio" name="choice" value="7">
                                <span>1주일</span>
                            </label>
                            <label>
                                <input type="radio" name="choice" value="15">
                                <span>15일</span>
                            </label>
                            <label>
                                <input type="radio" name="choice" value="31">
                                <span>1개월</span>
                            </label>
                            <label>
                                <input type="radio" name="choice" value="3">
                                <span>직접입력</span>
                            </label>
                            <form class="search_form" action="#">
                                <input type="date" class="datepicker" id="startDate">
                                ~
                                <input type="date" class="datepicker" id="endDate">
                                <select name="" id="">
                                    <option value="">전체</option>
                                    <option value="">입금대기</option>
                                    <option value="">결제완료</option>
                                    <option value="">출고지시</option>
                                    <option value="">상품준비중</option>
                                    <option value="">배송중</option>
                                    <option value="">배송완료</option>
                                    <option value="">구매확정</option>
                                    <option value="">취소</option>
                                    <option value="">교환</option>
                                    <option value="">반품</option>
                                </select>
                                <input type="search" placeholder="검색어를 입력하세요">
                                <button>검색</button>
                            </form>
                        </div>
                        <div class="order-details-table">
                            <table class="table-main">
                                <tbody>
                                    <tr>
                                        <th>날짜</th>
                                        <th>상품정보</th>
                                        <th>상태</th>
                                        <th>확인/신청</th>
                                    </tr>
                                </tbody>
                                <tbody>
                                    <tr th:each="orderInfo, i : ${orderInfoPagingDTO.dtoList}">
                                        <td th:text="${#strings.substring(orderInfo.orderDate, 0, 10)}"></td>
                                        <td class="product-info">
                                            <div class="img-container">
                                                <img class="img" th:src="${orderInfo.productImage}" alt="">
                                            </div>
                                            <div class="text-area">
                                                <p th:text="${'주문번호 : ' + orderInfo.orderNo}"></p>
                                                <p th:text="${'상호명 : ' + orderInfo.seller.company}"></p>
                                                <p th:text="${'상품명 : ' + orderInfo.product.prodName}"></p>
                                                <p th:text="${'수량 : ' + orderInfo.orderItem.itemCount + '개'}"></p>
                                                <p th:text="${'가격 : ' + #numbers.formatInteger(orderInfo.orderItem.itemPrice, 3, 'COMMA') + '원'}"></p>
                                            </div>
                                        </td>
                                        <td th:text="${orderInfo.orderStatus}"></td>
                                        <td>
                                            <input type="button" class="orderdetails-btn purchase_confirm_btn" value="구매확정"
                                                   th:data-product-id="${orderInfo.orderItem.itemNo}"
                                                   th:data-prod-name="${orderInfo.product.prodName}"
                                                   th:data-orderStatus="${orderInfo.orderStatus}">
                                            <input type="button" class="orderdetails-btn product_review_btn" value="상품평쓰기" th:data-product-id="${orderInfo.orderItem.itemNo}" th:data-prod-name="${orderInfo.product.prodName}">
                                            <input type="button" class="orderdetails-btn return_request_btn" value="반품신청"
                                                   th:data-orderDate="${#strings.substring(orderInfo.orderDate, 0, 10)}"
                                                   th:data-itemNo="${orderInfo.orderItem.itemNo}"
                                                   th:data-prodName="${orderInfo.product.prodName}"
                                                   th:data-company="${orderInfo.seller.company}"
                                                   th:data-itemCount="${orderInfo.orderItem.itemCount}"
                                                   th:data-itemPrice="${orderInfo.orderItem.itemPrice}"
                                                   th:data-productImage="${orderInfo.productImage}"
                                                   th:data-itemDiscount="${orderInfo.orderItem.itemDiscount}"
                                                   th:data-orderStatus="${orderInfo.orderStatus}">
                                            <input type="button" class="orderdetails-btn exchange_request_btn" value="교환신청"
                                                   th:data-orderDate="${#strings.substring(orderInfo.orderDate, 0, 10)}"
                                                   th:data-itemNo="${orderInfo.orderItem.itemNo}"
                                                   th:data-prodName="${orderInfo.product.prodName}"
                                                   th:data-company="${orderInfo.seller.company}"
                                                   th:data-itemCount="${orderInfo.orderItem.itemCount}"
                                                   th:data-itemPrice="${orderInfo.orderItem.itemPrice}"
                                                   th:data-productImage="${orderInfo.productImage}"
                                                   th:data-itemDiscount="${orderInfo.orderItem.itemDiscount}"
                                                   th:data-orderStatus="${orderInfo.orderStatus}">
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                            <div class="notice-footer">
                                <div class="pagination">
                                    <a class="prev" th:if="${orderInfoPagingDTO.prev}" th:href="@{/my/review(pg=${orderInfoPagingDTO.start - 1}, size=${orderInfoPagingDTO.size})}">이전</a>
                                    <th:block th:each="i: ${#numbers.sequence(orderInfoPagingDTO.start, orderInfoPagingDTO.end)}">
                                        <a th:href="@{/my/order(pg=${i}, size=${orderInfoPagingDTO.size})}" th:text="${i}" th:class="${i == orderInfoPagingDTO.pg ? 'active' : ''}"></a>
                                    </th:block>
                                    <a class="next" th:if="${orderInfoPagingDTO.next}" th:href="@{/my/review(pg=${orderInfoPagingDTO.end + 1}, size=${orderInfoPagingDTO.size})}">다음</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </article>
            </section>
        </main>
        <!-- 메인 끝 -->
        <!--구매확정 모달 팝업-->
        <div class="modal purchase_confirm_modal">
            <div class="modal_popup">
                <div class="modal-wrapper">
                    <div class="modal-header">
                        <div class="modal-name">
                            <p>구매확정</p>
                        </div>
                        <div class="exit" onclick="location.href='#'" style="cursor: pointer;">
                            <p class="modalClose">X</p> <!-- 수정 예정 -->
                        </div>
                    </div>
                    <div class="modal-main table-sub">
                        <div class="purchase_confirm_content" style="margin: 80px; font-size: 20px;">
                            <p>상품을 받으셨나요?</p>
                            <p>상품을 받으신 분만 구매확정을 해주세요.</p>
                        </div>
                        <div class="btn">
                            <input type="submit" value="확인" onclick="location.href='#'">
                            <input type="submit" value="취소" class="modalClose">
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!--상품평 모달 팝업-->
        <div class="modal product_review_modal">
            <div class="modal_popup">
                <div class="modal-wrapper">
                    <div class="modal-header">
                        <div class="modal-name">
                            <p>상품평 작성</p>
                        </div>
                        <div class="exit" onclick="location.href='#'" style="cursor: pointer;">
                            <p class="modalClose">X</p> <!-- 수정 예정 -->
                        </div>
                    </div>
                    <div class="modal-main table-sub">
                        <table>
                            <tbody>
                                <tr>
                                    <td>상품명</td>
                                    <td id="modalProdName">상품</td>
                                </tr>
                                <tr>
                                    <td>만족도</td>
                                    <td>
                                        ☆☆☆☆☆<!-- 수정예정 -->
                                    </td>
                                </tr>
                                <tr>
                                    <td>내용</td>
                                    <td>
                                        <textarea></textarea>
                                    </td>
                                </tr>
                                <tr>
                                    <td>사진</td>
                                    <td class="file">
                                        <input type="file" name="file1"/>
                                        <input type="file" name="file2"/>
                                        <input type="file" name="file3"/>
                                    </td>
                                </tr>
                                
                            </tbody>
                        </table>
                        <div class="btn">
                            <input type="submit" value="작성완료" onclick="location.href='#'";>
                            <input type="submit" value="취소" class="modalClose">
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!--반품신청 모달 팝업-->
        <div class="modal return_request_modal">
            <div class="modal_popup">
                <div class="modal-wrapper">
                    <div class="modal-header">
                        <div class="modal-name">
                            <p>반품신청</p>
                        </div>
                        <div class="exit" onclick="location.href='#'" style="cursor: pointer;">
                            <p class="modalClose">X</p> <!-- 수정 예정 -->
                        </div>
                    </div>
                    <div class="modal-main">
                        <div class="title-area">
                            <h1>상품정보</h1>
                        </div>
                        <div class="order-info table-main">
                            <table>
                                <tbody>
                                    <tr>
                                        <th>날짜</th>
                                        <th>상품정보</th>
                                        <th>결제금액</th>
                                        <th>상태</th>
                                    </tr>
                                </tbody>
                                <tbody>
                                    <tr>
                                        <td id="returnModalOrderDate"></td>
                                        <td class="product-info">
                                            <div class="img-container">
                                                <img id="returnModalProductImage" class="img" src="" alt="">
                                            </div>
                                            <div class="text-area">
                                                <p id="returnModalOrderNo"></p>
                                                <p id="returnModalCompany"></p>
                                                <p id="returnModalProdName"></p>
                                                <p id="returnModalItemCount"></p>
                                                <p></p>
                                            </div>
                                        </td>
                                        <td>
                                            <p id="returnModalSellPrice"></p>
                                            <p id="returnModalDiscount"></p>
                                            <p id="returnModalTotalPrice"></p>
                                        </td>
                                        <td id="returnModalOrderStatus"></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="return-Request table-sub">
                            <div class="title-area">
                                <h1>반품정보 입력</h1>
                            </div>
                            <table>
                                <tbody>
                                    <tr>
                                        <td>반품유형</td>
                                        <td>
                                            <label>
                                                <input type="radio" name="reason" value="단순 변심">
                                                <span>단순 변심</span>
                                            </label>
                                            <label>
                                                <input type="radio" name="reason" value="파손 및 불량">
                                                <span>파손 및 불량</span>
                                            </label>
                                            <label>
                                                <input type="radio" name="reason" value="주문 실수">
                                                <span>주문 실수</span>
                                            </label>
                                            <label>
                                                <input type="radio" name="reason" value="기타">
                                                <span>기타</span>
                                            </label>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>사유입력</td>
                                        <td>
                                            <textarea></textarea>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>사진첨부(선택)</td>
                                        <td class="file">
                                            <input type="file">
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                            <div class="btn">
                                <input type="submit" value="반품신청" onclick="location.href='#'">
                                <input type="submit" value="취소" class="modalClose">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!--교환신청 모달 팝업-->
        <div class="modal exchange_request_modal">
            <div class="modal_popup">
                <div class="modal-wrapper">
                    <div class="modal-header">
                        <div class="modal-name">
                            <p>교환신청</p>
                        </div>
                        <div class="exit" onclick="location.href='#'" style="cursor: pointer;">
                            <p class="modalClose">X</p> <!-- 수정 예정 -->
                        </div>
                    </div>
                    <div class="modal-main">
                        <div class="title-area">
                            <h1>상품정보</h1>
                        </div>
                        <div class="order-info table-main">
                            <table>
                                <tbody>
                                    <tr>
                                        <th>날짜</th>
                                        <th>상품정보</th>
                                        <th>결제금액</th>
                                        <th>상태</th>
                                    </tr>
                                </tbody>
                                <tbody>
                                    <tr>
                                        <td id="exchangeModalOrderDate"></td>
                                        <td class="product-info">
                                            <div class="img-container">
                                                <img id="modalProductImage" class="img" src="" alt="">
                                            </div>
                                            <div class="text-area">
                                                <p id="exchangeModalOrderNo"></p>
                                                <p id="exchangeModalCompany"></p>
                                                <p id="exchangeModalProdName"></p>
                                                <p id="exchangeModalItemCount"></p>
                                                <p></p>
                                            </div>
                                        </td>
                                        <td>
                                            <p id="exchangeModalSellPrice"></p>
                                            <p id="exchangeModalDiscount"></p>
                                            <p id="exchangeModalTotalPrice"></p>
                                        </td>
                                        <td id="exchangeModalOrderStatus"></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="return-Request table-sub">
                            <div class="title-area">
                                <h1>교환정보 입력</h1>
                            </div>
                            <table>
                                <tbody>
                                    <tr>
                                        <td>반품유형</td>
                                        <td>
                                            <label>
                                                <input type="radio" name="type" value="단순 변심">
                                                <span>단순 변심</span>
                                            </label>
                                            <label>
                                                <input type="radio" name="type" value="파손 및 불량">
                                                <span>파손 및 불량</span>
                                            </label>
                                            <label>
                                                <input type="radio" name="type" value="주문 실수">
                                                <span>주문 실수</span>
                                            </label>
                                            <label>
                                                <input type="radio" name="type" value="기타">
                                                <span>기타</span>
                                            </label>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>사유입력</td>
                                        <td>
                                            <textarea></textarea>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>사진첨부(선택)</td>
                                        <td class="file">
                                            <input type="file">
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                            <div class="btn">
                                <input type="submit" value="교환신청" onclick="location.href='#'";>
                                <input type="submit" value="취소" class="modalClose">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- 푸터 시작 -->
        <th:block th:include="/common/footer.html"/>
        <!-- 푸터 끝 -->
    </div>
</body>
</html>